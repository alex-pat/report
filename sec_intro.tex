\sectioncentered*{ВВЕДЕНИЕ}
\addcontentsline{toc}{section}{ВВЕДЕНИЕ}
\label{sec:intro}
На сегодняшний день важное место в жизни людей системы, требовательные к памяти и
производительности. Одним из аспектов работы любой операционной системы является
мониторинг состояния системы, в частности, процессов и файлов. Большинство
подобных систем работают под управлением операционной системы GNU/Linux, в
которой традиционным средством для доступа к информации о системе является
виртуальная файловая система \texttt{procfs}.

Ввиду отсутствия альтернативы \texttt{procfs} используется во всех системных
утилитах, осуществляющих мониторинг, таких как \texttt{lsof}, \texttt{ps},
\texttt{top}, и обладает следующими преимуществами:

\begin{itemize}
\item удобство чтения человеком (информация хранится в простых текстовых файлах);
\item возможность использования в bash-скриптах;
\item гибкость формата;
\item важность поддержки обратной совместимости несколько ниже, чем у Kernel ABI.
\end{itemize}

Такой подход обусловлен философией UNIX, один из пунктов которой предписывает
всему быть представленным в виде простых текстовых файлов. Традиция приветствуется
многими  разработчиками,
однако обладает рядом недостатков, выраженных как в пользовательском
пространстве, так и в ядре. Со стороны пользовательской программы требуется
выполнение нескольких действий даже для простых операций:

\begin{itemize}
\item генерация строки, содержащей путь к виртуальному файлу;
\item открытие файла или директории;
\item чтение и парсинг прочитанных текстовых данных;
\item закрытие файла;
\item чтение символьной ссылки.
\end{itemize}

Текстовый формат данных в большинстве случаев не позволяет сместиться сразу к
нужной части данных, вынуждая обрабатывать все содержимое файла целиком.
К таким файлам относятся \texttt{/proc/self/status},
\texttt{/proc/self/maps}, \texttt{/proc/self/stat}.
Генерация и парсинг строк требует временных и вычислительных затрат на переводы
бинарных данных в текстовый вид и обратно. Открытие файлов и директорий требует
значительных затрат на проход пути и выделений памяти для внутренних структур
ядра, что не только увеличивает потребление программой оперативной памяти, но и
заполняет кэши элементов директорий, негативно влияя на производительность.
Кроме того, искомая информация распределена по значительному числу файлов, что
требует частого выполнения вышеописанных действий.

Если на потребительских устройствах нет высоких требований к времени выполнения
и негативное влияние лишних действий незаметно, то в высокопроизводительных и
встроенных системах важна экономия процессорного времени и памяти. Кроме того,
для конечной цели сбора информации не имеют значения побочные структуры,
открытые файлы и переводы данных в иную форму, важен только конечный результат:
полезные бинарные данные.

Возможны несколько вариантов решения проблемы: ускорение самого \texttt{procfs},
создание внутри него нового бинарного одного или нескольких файлов, в том числе
использующих netlink-интерфейс, и введение новых системных вызовов,
предназначенных только для этих целей. Только последний вариант позволяет уйти
от использования виртуальной файловой системы, что способно значительно
увеличить производительность и снизить нагрузку.

Таким образом, целью настоящего дипломного проекта является разработка быстрого
альтернативного средства получения информации о процессах и файловых
дескрипторах, минуя лишние действия как в пространстве пользователя, так и в
пространстве ядра, а также разработка примеров программ и анализ полученных
преимуществами. При разработке необходимо учитывать:
\begin{itemize}
\item риск освобождения структур данных во время работы с ними ввиду
  многозадачности операционной системы;
\item важность взятия локов для предотвращения гонок;
\item необходимость обеспечивания невозможности проведения атаки через новые
  системные вызовы.
\end{itemize}
